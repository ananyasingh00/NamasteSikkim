 const resources = {
    en: {
      translation: {
        title: "NamasteSikkim",
        "nav.explore": "Explore",
        "nav.tours": "Virtual Tours",
        "nav.calendar": "Events",
        "nav.archives": "Digital Archive",
        "nav.quiz": "Quiz",
        "nav.startJourney": "Start Journey",
        "hero.line1": "Discover the",
        "hero.line2": "Monasteries of <span class='highlight'>Sikkim.</span>",
        "map.title": "Interactive Monastery Map",
        "btn.viewOnMap": "View on Map",
        "calendar.title": "Sikkim Festival Calendar",
        "calendar.viewCalendarBtn": "View Calendar",

        "festival.losar.title": "Losar Festival",
        "festival.losar.location": "Location: Rumtek Monastery",
        "festival.losar.date": "Date: Feb 10–12, 2024",
        "festival.losar.desc": "Traditional dances, prayers, and cultural performances.",

        "festival.buddha.title": "Buddha Jayanti",
        "festival.buddha.location": "Location: Sikkim Monastery",
        "festival.buddha.date": "Date: May 15, 2024",
        "festival.buddha.desc": "Commemoration of Buddha’s birth with special rituals.",

        "festival.drukpa.title": "Drukpa Kunley Festival",
        "festival.drukpa.location": "Location: Pemayangtse Monastery",
        "festival.drukpa.date": "Date: March 25, 2024",
        "festival.drukpa.desc": "Folk dances celebrating the divine madman’s legacy.",

        "festival.saga.title": "Saga Dawa",
        "festival.saga.location": "Location: Sikkim Monastery",
        "festival.saga.date": "Date: June 2024",
        "festival.saga.desc": "Community offerings and rituals throughout the month.",

        "festival.tag.major": "Major Festival",
        "festival.tag.featured": "Featured",
        "festival.tag.cultural": "Cultural Festival",
        "festival.tag.religious": "Religious Ceremony",

        "virtual.title": "Featured Virtual Tours",
        "tour.button.start": "Start Virtual Tour",
        "tour.tag.sacred": "Sacred Sites",
        "tour.tag.buddhist": "Buddhist Monasteries",
        "tour.tag.sculptures": "Buddhist Sculptures",
        "tour.tag.murals": "Ancient Murals",
        "tour.tag.holy": "Holy Site",
        "tour.tag.chortens": "Sacred Chortens",
        "tour.tag.festivals": "Festivals",
        "tour.tag.heritage": "Buddhist Heritage",

        "tour.rumtek.title": "Rumtek Monastery",
        "tour.rumtek.location": "Location: East Sikkim",
        "tour.rumtek.duration": "Duration: 45 min",
        "tour.rumtek.desc": "The largest monastery in Sikkim, home to the Karma Kagyu and center of the Kagyu lineage.",

        "tour.pema.title": "Pemayangtse Monastery",
        "tour.pema.location": "Location: Pelling, West Sikkim",
        "tour.pema.duration": "Duration: 35 min",
        "tour.pema.desc": "Famous for rare Buddhist sculptures and ancient murals.",

        "tour.tashi.title": "Tashiding Monastery",
        "tour.tashi.location": "Location: West Sikkim",
        "tour.tashi.duration": "Duration: 40 min",
        "tour.tashi.desc": "Sacred site where prayers are believed to cleanse sins and bestow blessings.",

        "tour.enchey.title": "Enchey Monastery",
        "tour.enchey.location": "Location: Gangtok, East Sikkim",
        "tour.enchey.duration": "Duration: 30 min",
        "tour.enchey.desc": "Known for its vibrant festivals and beautiful architecture; a key spiritual center in Sikkim.",

        "explore.more": "Explore more Monasteries and Places",

        "archives.title": "Digital Archives",
        "archive.chants": "Chants & Rituals",
        "archive.monks": "Monk Profiles",
        "archive.history": "History and manuscripts",
        "archive.interviews": "Interviews & Stories",
        "archive.button": "Explore",

        /* monastery descriptions */
        "monastery.rumtek.desc": "East Sikkim – Largest monastery, home to the Karma Kagyu lineage.",
        "monastery.pemayangtse.desc": "West Sikkim – One of the oldest monasteries with rare sculptures.",
        "monastery.tashiding.desc": "West Sikkim – Sacred site for prayers and blessings.",
        "monastery.enchey.desc": "Gangtok – Known for its vibrant festivals and architecture.",
        "monastery.dubdi.desc": "Northeast Sikkim – The oldest monastery in Sikkim, founded in 1701.",
        "monastery.ralang.desc": "Southeast Sikkim – Known for its scenic location and festivals.",
        "monastery.lingdum.desc": "Near Ranka – Famous for its massive golden statues and serene setting.",
        "monastery.tashilhunpo.desc": "Shigatse lineage seat – Houses huge Maitreya Buddha statue.",
        "monastery.lachung.desc": "North Sikkim – Picturesque monastery in a serene valley.",
        "monastery.phensang.desc": "North Sikkim – Important religious center with historic murals.",
        "monastery.sanga.desc": "West Sikkim – Old monastery perched on a hilltop."
      }
    },
    hi: {
      translation: {
        title: "नमस्तेसिक्किम",
        "nav.explore": "खोजें",
        "nav.tours": "वर्चुअल टूर",
        "nav.calendar": "इवेंट",
        "nav.archives": "डिजिटल संग्रह",
        "nav.quiz": "क्विज़",
        "nav.startJourney": "यात्रा शुरू करें",
        "hero.line1": "खोजें",
        "hero.line2": "सिक्किम के <span class='highlight'>मठ</span>",
        "map.title": "इंटरैक्टिव मठ मानचित्र",
        "btn.viewOnMap": "मानचित्र पर देखें",
        "calendar.title": "सिक्किम त्योहार कैलेंडर",
        "calendar.viewCalendarBtn": "कैलेंडर देखें",

        "festival.losar.title": "लोसर त्योहार",
        "festival.losar.location": "स्थान: Rumtek मठ",
        "festival.losar.date": "तिथि: 10–12 फ़रवरी, 2024",
        "festival.losar.desc": "पारंपरिक नृत्य, प्रार्थनाएँ और सांस्कृतिक प्रदर्शन।",

        "festival.buddha.title": "बुद्ध जयंती",
        "festival.buddha.location": "स्थान: सिक्किम मठ",
        "festival.buddha.date": "तिथि: 15 मई, 2024",
        "festival.buddha.desc": "विशेष अनुष्ठानों के साथ बुद्ध के जन्म का स्मरण।",

        "festival.drukpa.title": "ड्रुकपा कुणले त्योहार",
        "festival.drukpa.location": "स्थान: Pemayangtse मठ",
        "festival.drukpa.date": "तिथि: 25 मार्च, 2024",
        "festival.drukpa.desc": "दिव्य पागल के विरासत का जश्न मनाने वाले लोक नृत्य।",

        "festival.saga.title": "सागा दावा",
        "festival.saga.location": "स्थान: सिक्किम मठ",
        "festival.saga.date": "तिथि: जून 2024",
        "festival.saga.desc": "पूरे महीने समुदाय की भेंट और अनुष्ठान।",

        "festival.tag.major": "प्रमुख त्योहार",
        "festival.tag.featured": "विशेष",
        "festival.tag.cultural": "सांस्कृतिक त्योहार",
        "festival.tag.religious": "धार्मिक अनुष्ठान",

        "virtual.title": "मुख्य वर्चुअल टूर",
        "tour.button.start": "वर्चुअल टूर शुरू करें",
        "tour.tag.sacred": "पवित्र स्थल",
        "tour.tag.buddhist": "बौद्ध मठ",
        "tour.tag.sculptures": "बौद्ध मूर्तियाँ",
        "tour.tag.murals": "प्राचीन भित्ति चित्र",
        "tour.tag.holy": "पवित्र स्थल",
        "tour.tag.chortens": "पवित्र चोर्तेन",
        "tour.tag.festivals": "त्योहार",
        "tour.tag.heritage": "बौद्ध विरासत",

        "tour.rumtek.title": "Rumtek मठ",
        "tour.rumtek.location": "स्थान: पूर्व सिक्किम",
        "tour.rumtek.duration": "अवधि: 45 मिनट",
        "tour.rumtek.desc": "सिक्किम का सबसे बड़ा मठ, कर्मा कग्यू परंपरा का केंद्र।",

        "tour.pema.title": "Pemayangtse मठ",
        "tour.pema.location": "स्थान: Pelling, पश्चिम सिक्किम",
        "tour.pema.duration": "अवधि: 35 मिनट",
        "tour.pema.desc": "दुर्लभ बौद्ध मूर्तियों और प्राचीन भित्तिचित्रों के लिए प्रसिद्ध।",

        "tour.tashi.title": "Tashiding मठ",
        "tour.tashi.location": "स्थान: पश्चिम सिक्किम",
        "tour.tashi.duration": "अवधि: 40 मिनट",
        "tour.tashi.desc": "पवित्र स्थल जहाँ प्रार्थनाएँ आशीर्वाद देती हैं।",

        "tour.enchey.title": "Enchey मठ",
        "tour.enchey.location": "स्थान: गंगटोक, पूर्व सिक्किम",
        "tour.enchey.duration": "अवधि: 30 मिनट",
        "tour.enchey.desc": "रंगीन त्योहारों और सुंदर वास्तुकला के लिए जाना जाता है।",

        "explore.more": "और मठ एवं स्थान खोजें",

        "archives.title": "डिजिटल संग्रह",
        "archive.chants": "जप और अनुष्ठान",
        "archive.monks": "भिक्षु प्रोफाइल",
        "archive.history": "इतिहास और पांडुलिपियाँ",
        "archive.interviews": "साक्षात्कार और कहानियाँ",
        "archive.button": "खोजें",

        "monastery.rumtek.desc": "पूर्व सिक्किम — सबसे बड़ा मठ, कर्मा कग्यू परंपरा का घर।",
        "monastery.pemayangtse.desc": "पश्चिम सिक्किम — दुर्लभ मूर्तियों और प्राचीन भित्ति चित्रों के लिए प्रसिद्ध।",
        "monastery.tashiding.desc": "पश्चिम सिक्किम — प्रार्थना और आशीर्वाद के लिए पवित्र स्थल।",
        "monastery.enchey.desc": "गंगटोक — रंगीन त्योहारों और स्थापत्य के लिए जाना जाता है।",
        "monastery.dubdi.desc": "उत्तरी-पश्चिम सिक्किम — 1701 में स्थापित सिक्किम का सबसे पुराना मठ।",
        "monastery.ralang.desc": "दक्षिण-पूर्व सिक्किम — अपने दृश्य स्थान और त्योहारों के लिए प्रसिद्ध।",
        "monastery.lingdum.desc": "रांका के पास — विशाल सुनहरे मूर्तियों और शांत वातावरण के लिए प्रसिद्ध।",
        "monastery.tashilhunpo.desc": "शिगाट्से परंपरा का प्रमुख — विशाल मैत्रेया बुद्ध की मूर्ति।",
        "monastery.lachung.desc": "उत्तरी सिक्किम — शांत घाटी में सुरम्य मठ।",
        "monastery.phensang.desc": "उत्तरी सिक्किम — ऐतिहासिक भित्ति चित्रों वाला महत्वपूर्ण धार्मिक केंद्र।",
        "monastery.sanga.desc": "पश्चिम सिक्किम — चोटी पर स्थित प्राचीन तीर्थस्थल।"
      }
    },
    ne: {
      translation: {
        title: "नमस्तेसिक्किम",
        "nav.explore": "अन्वेषण",
        "nav.tours": "भर्चुअल टुर",
        "nav.calendar": "इभेन्टहरू",
        "nav.archives": "डिजिटल अभिलेख",
        "nav.quiz": "क्विज",
        "nav.startJourney": "यात्रा सुरु गर्नुहोस्",
        "hero.line1": "खोज्नुहोस्",
        "hero.line2": "सिक्किमका <span class='highlight'>मठ</span>",
        "map.title": "इन्टरएक्टिभ मठ नक्सा",
        "btn.viewOnMap": "नक्सामा हेर्नुहोस्",
        "calendar.title": "सिक्किम पर्व पात्रो",
        "calendar.viewCalendarBtn": "पात्रो हेर्नुहोस्",

        "festival.losar.title": "लोसर पर्व",
        "festival.losar.location": "स्थान: Rumtek मठ",
        "festival.losar.date": "मिति: 10–12 फेब्रुअरी, 2024",
        "festival.losar.desc": "परम्परागत नाच, प्रार्थना र सांस्कृतिक प्रदर्शन।",

        "festival.buddha.title": "बुद्ध जयन्ती",
        "festival.buddha.location": "स्थान: सिक्किम मठ",
        "festival.buddha.date": "मिति: 15 मे, 2024",
        "festival.buddha.desc": "विशेष अनुष्ठान सहित बुद्धको जन्म स्मरण।",

        "festival.drukpa.title": "ड्रुकपा कुणले पर्व",
        "festival.drukpa.location": "स्थान: Pemayangtse मठ",
        "festival.drukpa.date": "मिति: 25 मार्च, 2024",
        "festival.drukpa.desc": "देवी/पागलको विरासतलाई मनाउने लोक नृत्य।",

        "festival.saga.title": "सागर दाव",
        "festival.saga.location": "स्थान: सिक्किम मठ",
        "festival.saga.date": "मिति: जुन 2024",
        "festival.saga.desc": "समुदायले दिने भेंट र अनुष्ठानहरु।",

        "festival.tag.major": "प्रमुख पर्व",
        "festival.tag.featured": "विशेष",
        "festival.tag.cultural": "सांस्कृतिक पर्व",
        "festival.tag.religious": "धार्मिक समारोह",

        "virtual.title": "विशेष भर्चुअल टुर",
        "tour.button.start": "भर्चुअल टुर शुरू गर्नुहोस्",
        "tour.tag.sacred": "पवित्र स्थलहरू",
        "tour.tag.buddhist": "बौद्ध मठहरू",
        "tour.tag.sculptures": "बौद्ध मूर्तिहरू",
        "tour.tag.murals": "प्राचीन भित्ति चित्र",
        "tour.tag.holy": "पवित्र स्थल",
        "tour.tag.chortens": "पवित्र चोर्तेन",
        "tour.tag.festivals": "पर्वहरू",
        "tour.tag.heritage": "बौद्ध सम्पदा",

        "tour.rumtek.title": "Rumtek मठ",
        "tour.rumtek.location": "स्थान: पूर्व सिक्किम",
        "tour.rumtek.duration": "अवधि: 45 मिनेट",
        "tour.rumtek.desc": "सिक्किमको सबैभन्दा ठूलो मठ, कर्मा कग्यू परम्पराको केन्द्र।",

        "tour.pema.title": "Pemayangtse मठ",
        "tour.pema.location": "स्थान: Pelling, पश्चिम सिक्किम",
        "tour.pema.duration": "अवधि: 35 मिनेट",
        "tour.pema.desc": "दुर्लभ मूर्तिहरू र प्राचीन भित्तिचित्रका लागि प्रसिद्ध।",

        "tour.tashi.title": "Tashiding मठ",
        "tour.tashi.location": "स्थान: पश्चिम सिक्किम",
        "tour.tashi.duration": "अवधि: 40 मिनेट",
        "tour.tashi.desc": "प्रार्थनाले आशीर्वाद दिने पवित्र स्थान।",

        "tour.enchey.title": "Enchey मठ",
        "tour.enchey.location": "स्थान: Gangtok, पूर्व सिक्किम",
        "tour.enchey.duration": "अवधि: 30 मिनेट",
        "tour.enchey.desc": "रंगीन पर्व र सुन्दर वास्तुकलाका लागि परिचित।",

        "explore.more": "अझै मठ र स्थानहरू अन्वेषण गर्नुहोस्",

        "archives.title": "डिजिटल अभिलेख",
        "archive.chants": "जप र अनुष्ठान",
        "archive.monks": "साधु/भिक्षु प्रोफाइल",
        "archive.history": "इतिहास र पाण्डुलिपिहरू",
        "archive.interviews": "साक्षात्कार र कथाहरू",
        "archive.button": "हेरौं",

        "monastery.rumtek.desc": "पूर्व सिक्किम — सबैभन्दा ठूलो मठ, कर्मा कग्यू परम्पराको केन्द्र।",
        "monastery.pemayangtse.desc": "पश्चिम सिक्किम — दुर्लभ मूर्तिहरू र प्राचीन भित्ति चित्रका लागि प्रसिद्ध।",
        "monastery.tashiding.desc": "पश्चिम सिक्किम — प्रार्थना र आशीर्वादको पवित्र स्थान।",
        "monastery.enchey.desc": "Gangtok — रंगीन पर्व र वास्तुकलाका लागि परिचित।",
        "monastery.dubdi.desc": "उत्तरी-पश्चिम सिक्किम — 1701 मा स्थापना गरिएको पुरानो मठ।",
        "monastery.ralang.desc": "दक्षिण-पूर्व सिक्किम — सुन्दर स्थान र पर्वका लागि प्रसिद्ध।",
        "monastery.lingdum.desc": "Ranka नजिक — विशाल सुनौलो मूर्ति र शान्त वातावरणका लागि प्रसिद्ध।",
        "monastery.tashilhunpo.desc": "Shigatse परम्पराको केन्द्र — ठूलो मैत्रेया बुद्ध।",
        "monastery.lachung.desc": "उत्तरी सिक्किम — शान्त उपत्यकामा स्थित सुन्दर मठ।",
        "monastery.phensang.desc": "उत्तरी सिक्किम — ऐतिहासिक भित्ति चित्रसँगको महत्वपूर्ण धार्मिक केन्द्र।",
        "monastery.sanga.desc": "पश्चिम सिक्किम — पहाडी चोटिमा रहेको प्राचीन तीर्थस्थल।"
      }
    }
  };

  // Initialize i18next
  i18next.init({
    lng: localStorage.getItem('lang') || 'en',
    debug: false,
    resources: resources,
    fallbackLng: 'en'
  }).then(() => {
    // apply translations to all elements with data-i18n
    function applyTranslations() {
      document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        const translated = i18next.t(key);
        if (translated !== key) {
          el.innerHTML = translated;
        }
      });
      // also update <title>
      document.title = i18next.t('title') || document.title;
      // update html lang attribute
      document.documentElement.lang = i18next.language || 'en';
    }

    // set language switcher initial value
    const langSelect = document.getElementById('languageSwitcher');
    if (langSelect) {
      langSelect.value = i18next.language || 'en';
      langSelect.addEventListener('change', (e) => {
        const lng = e.target.value;
        i18next.changeLanguage(lng).then(() => {
          localStorage.setItem('lang', lng);
          applyTranslations();
        });
      });
    }

    // initial translate
    applyTranslations();
  });